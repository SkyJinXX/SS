

use 注册报名系统

create table Users
(
	Uusername varchar(12) primary key not null,
	Upassword varchar(16)not null,
	Uidentity varchar(2)not null 
)

create table Teacher
(
	Tid varchar(10) primary key not null,
	Tname varchar(20)not null,
	Tsex varchar(2) check (Tsex in ('男' , '女')),
	Tbirthday varchar(10),
	Tprofession varchar(15),
	Tphone varchar(15)not null,
	Tintroduction text,
)

Create Table Student(
	Sid varchar(10) not null primary key,
	Sname varchar(8) not null,
	Ssex varchar(2) check (Ssex in ('男' , '女')),
	Sbirthday varchar(10),
	Sage varchar(5),
	Sschool	varchar(15),
	Scollege varchar(15),
	Smajor varchar(15),
	Sclass varchar(10) not null,
	Sphone  varchar(11) not null
);

Create Table Course(
	Cid varchar(10) not null primary key,
	Cname varchar(15) not null,
	Ccredit int not null,
	Cpersonnumber int not null,
	Ccategory varchar(10) not null,
	Cintroduction text,
); 

Create Table S_C_Transcript
(
	Sid varchar(10) not null,
	Cid varchar(10) not null,
	Tscore int not null,
	
	foreign key(Sid) references Student(Sid),
	foreign key(Cid) references Course(Cid),
);

Create Table S_T_Communication
(
	Sid varchar(10) not null,
	Tid varchar(10) not null,
	Cmessage text,
	
	foreign key(Sid) references Student(Sid),
	foreign key(Tid) references Teacher(Tid),
);

Create Table S_U(
	Sid varchar(10) not null,
	Uusername varchar(12)not null,
	
	foreign key(Sid) references Student(Sid),
	foreign key(Uusername) references Users(Uusername),
);

Create Table T_U(
	Tid varchar(10) not null,
	Uusername varchar(12)not null,
	
	foreign key(Tid) references Teacher(Tid),
	foreign key(Uusername) references Users(Uusername),
);

Create Table T_C
(
	Tid varchar(10) not null,
	Cid varchar(10) not null,
	
	foreign key(Cid) references Course(Cid),
	foreign key(Tid) references Teacher(Tid),
);

create table  Administrator 
(
     Aid varchar(10) not null primary key,
     Aname varchar(10) not null,
     Asex varchar(2) check (Asex in ('男' , '女')),
     Abirthday varchar(10),
     Aage varchar(5),
     Alevel varchar(10) not null,

);

create table  A_U
(
     Aid varchar(10) not null,
     Uusername varchar(12) not null
     
     foreign key(Uusername) references Users(Uusername),
     foreign key(Aid) references Administrator(Aid),
);

create table A_A_Management
(
	Aname1 varchar(10) not null,
	Aname2 varchar(10) not null,
	A2A_Message text,
	A2A_Action text,
);

Create table Tmessage
(
	Tmessage varchar(100),
);